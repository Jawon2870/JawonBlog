# 劫持并修改https响应体（4）

下面继续基于 electron 尝试。

### 代理劫持 html

看到这篇文章 [内容劫持 | Electron 安全-腾讯云开发者社区-腾讯云](https://cloud.tencent.com/developer/article/2411206)，我想能否通过 https 代理来劫持并修改响应体呢？经过尝试，修改 host 设置代理劫持的方式很不稳定，受 dns 缓存和系统其他代理软件的影响较大，所以也不是一个很好的方案。

### 本地加载 html

偶然间我想到，为什么不使用 electron 直接加载修改过的 html，我的最终需求是去除页面 html 中的 CSP，没必要非得实现劫持。

如果使用 electron 窗口来加载目标网站的 html，那么就会出现下面的问题：

1. html 中使用相对路径加载的资源将会出现路径错误。
2. 页面中的 Ajax 请求如果使用了相对路径，同样会出现路径错误。
3. 页面中的 webSocket 请求同样存在以上问题。
4. 页面中使用 js 动态创建的 worker 是否仍能正常运行，尚不明确。

要想实现目标需求，就必须解决以上问题，那么开始解决吧！

1. 首先将 html 中所有使用相对路径的资源路径前面补上对应的协议和域名，从而解决第一个问题。
2.
